---
title: "NYU SURP 2019 R course Class 5: Vectors cont'd, missing values, and logical operations"
author:
  - Eugene Plavskin
  - Grace Avecilla
  - Tobi Shraink
date: "07/09/2019"
output:
  html_notebook:
    code_folding: show
    depth: 3
    tidy: yes
    toc: yes
---

# Review: vectors and sequences

```{r}
# Create a vector of numbers from -5 to 5 increasing in increments of 0.5 called review_vec
review_vec <- seq(-5, 5, by = 0.5)
# find the value of the 11th position in the vector 
print(review_vec[11])
# find the length of the vector
length(review_vec)
```

# When we get missing values

A **HUGE** part of analyzing real scientific data is dealing with missing values. There are lots of ways we can get missing values; these are probably the most common:

* When we try to get R to do a nonsensical thing
* When we perform some super taboo math operation
* When we are using real data and we didn't collect every observation (*eg* you measured the height of a bunch of plants every week but by the third week, some of them died)

Every programming language has its own special way of representing 'missing' data; R, ever so special, uses two: *NA* or *NaN*, depending on the situation; don't worry about the difference, I (Eugene) literally learned it while preparing this class, after 5 years of programming in R.

Let's take a look at how these missing values work.

## Performing nonsensical operations

Let's try to see what R does when we ask it to do something that clearly doesn't make sense. Remember that we can ask R to convert a list of characters to numbers. Let's try that again.
```{r}
weird_number_vector <- c('1', '4', 'koala', '18')

# Convert weird_number_vector to numeric type, and print out the result
weird_number_vector_numeric <- as.numeric(weird_number_vector)
print(weird_number_vector_numeric)
```

## Taboo math operations

Another way to get missing values is to perform a math operation that R doesn't like. Let's try doing this. Remember that we can perform operations on vectors, e.g. adding two vectors to each other. Let's try dividing vectors this way.
```{r}
vector_1 <- c(1, 2, 0, 3, 0, -5)
vector_2 <- c(0, -3, 1, 6, 0, 0)

# What do you think you'll get if you divide vector_1 by vector_2?

# Try it
vector_1 / vector_2
```
Notice there are 3 'special values' here: Inf (the result of a positive number divided by 0), -Inf (the result of a negative number divided by 0), and NaN (the result of 0 divided by 0).

## Real missing data

Finally, you can enter NA into your vector, just like you would any other value
```{r}
# Create a vector, data_vector, which has some numbers and at least one NA value
data_vector <- c(1, 2, NA, 3)
# What happens if you take the sum of data_vector?
sum(data_vector)
```

Lots of functions in R, including `sum()`, have a way of dealing with missing data automatically. There are lots of times when we may want to just ignore the missing values and work with the rest of the data we have. Take a look at the documentation for `sum()`; do you see anything in there that might suggest how you could get the function to ignore missing values and take the sum of *data_vector* anyways?
```{r}
# Try using sum() to get the sum of the non-missing values in data_vector
sum(data_vector, na.rm = TRUE)
```

# Logicals

## Introduction to logicals

In R, in addition to character and numeric values, we can have logical values. Logical values are `TRUE` and `FALSE`. These words, when you type them, are something like `NA` in that they're special words. 

Logical values are often generated by comparisons between two values. These comparisons are made with logical operators. Many of them you will be familiar with.

```{r}
# Logic
3 > 4
8 < 5
4 <= 4
```

Note that the logical operator "is equal to" is `==` in R. If you only use `=`, you will reassign your variable (that is `=` in R is the same as `<-`).  
"Not" is specified by `!`. So "is not equal to" is `!=`.

Try to figure out what the output of each of the following lines will be before running them.
```{r}
TRUE == TRUE

TRUE == FALSE

TRUE != FALSE

3 != 4

char = 'a'
char == 'a'

char = 'b'
char == 'a'
```
Notice that at first, we **set** *char* to be 'a' by using `=`, and then check whether char is equal to 'a' using `==`. Then, we **set** *char* to be 'b' by using `=`, and when we again check whether char is equal to 'a', it no longer is.

## Looking for missing values in a vector

One useful function that results in a logical value is `is.na()`
```{r}
# try using is.na() on position 11 in review_vec
is.na(review_vec[11])

# try using is.na() on review_vec
is.na(review_vec)
```

Just like you can make a vector of characters or a vector of numeric values, you can also make a vector of logicals.
```{r}
# Make a vector with 3 TRUEs and 2 FALSEs, save it as logical_vec1
logical_vec1 <- c(TRUE, FALSE, T, T, F)
print(logical_vec1)

# Make a vector called num_vec that starts at 2 and ends at 10
num_vec <- 2:10

logical_vec2 <- num_vec %% 3 == 2 #what is this line of code doing?
print(logical_vec2)

# It's the same as doing this in 2 steps:
# first, we calculate the remainder of every value in num_vec divided by 3, and
# store it in remainder_vec
remainder_vec <- num_vec %% 3
print(remainder_vec)
# then, we check which elements of remainder_vec are equal to 2
logical_vec3 <- remainder_vec == 2
print(logical_vec3)
```
